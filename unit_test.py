import unittest
import disassembler


class TestDisassembler(unittest.TestCase):

    def test_show_help(self):
        try:
            disassembler.show_help()
        except Exception:
            self.fail("show_help() raised an unexpected error")

    def test_dis_py(self):
        try:
            disassembler.disassemble_file_py('test.py', '--t')
            disassembler.disassemble_file_py('test.py', '--d')
            disassembler.disassemble_file_py('test.py', '--a')
            disassembler.disassemble_file_py('test.py', '--i')
            disassembler.disassemble_file_py('test.py', '--f')
            disassembler.disassemble_file_py('test.py', '--D')

        except Exception:
            self.fail("Disassembling .py file raised an unexpected error")

    def test_dis_pyc(self):
        try:
            disassembler.disassemble_file_pyc('test.py', '--t')
            disassembler.disassemble_file_pyc('test.py', '--d')
            disassembler.disassemble_file_pyc('test.py', '--a')
            disassembler.disassemble_file_pyc('test.py', '--i')
            disassembler.disassemble_file_pyc('test.py', '--f')
            disassembler.disassemble_file_pyc('test.py', '--D')

        except Exception:
            self.fail("Disassembling .pyc file raised an unexpected error")

    def test_dis_compare(self):
        try:
            disassembler.disassemble_file_py('test.py', '--t') == disassembler.disassemble_file_pyc('test.pyc', '--t')
            disassembler.disassemble_file_py('test.py', '--d') == disassembler.disassemble_file_pyc('test.pyc', '--d')
            disassembler.disassemble_file_py('test.py', '--a') == disassembler.disassemble_file_pyc('test.pyc', '--a')
            disassembler.disassemble_file_py('test.py', '--i') == disassembler.disassemble_file_pyc('test.pyc', '--i')
            disassembler.disassemble_file_py('test.py', '--f') == disassembler.disassemble_file_pyc('test.pyc', '--f')
            disassembler.disassemble_file_py('test.py', '--D') == disassembler.disassemble_file_pyc('test.pyc', '--D')

        except Exception:
            self.fail("Disassembling .py file raised an unexpected error")
if __name__ == '__main__':
    unittest.main()
